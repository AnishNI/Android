Java android program to create simple calculator

<?xml version="1.0" encoding="utf-8"?> <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" android:layout_width="match_parent" android:layout_height="match_parent" tools:context=".MainActivity"> <TextView android:id="@+id/resultTextView" android:layout_width="0dp" android:layout_height="wrap_content" android:layout_marginTop="24dp" android:layout_marginBottom="24dp" android:gravity="end" android:text="" android:textSize="24sp" app:layout_constraintBottom_toTopOf="@id/guideline" app:layout_constraintEnd_toEndOf="parent" app:layout_constraintStart_toStartOf="parent" app:layout_constraintTop_toTopOf="parent" /> <androidx.constraintlayout.widget.Guideline android:id="@+id/guideline" android:layout_width="wrap_content" android:layout_height="wrap_content" android:orientation="horizontal" app:layout_constraintGuide_percent="0.4" /> <GridLayout android:layout_width="0dp" android:layout_height="0dp" android:layout_margin="16dp" android:alignmentMode="alignMargins" android:columnCount="4" android:rowCount="5" app:layout_constraintBottom_toBottomOf="parent" app:layout_constraintEnd_toEndOf="parent" app:layout_constraintStart_toStartOf="parent" app:layout_constraintTop_toBottomOf="@id/guideline"> <Button android:id="@+id/button1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="1" android:onClick="onNumberClick" /> <Button android:id="@+id/button2" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="2" android:onClick="onNumberClick" /> <Button android:id="@+id/button3" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="3" android:onClick="onNumberClick" /> <Button android:id="@+id/buttonAdd" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="+" android:onClick="onOperatorClick" /> <!-- More buttons for numbers and operators --> <Button android:id="@+id/buttonEquals" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="=" android:onClick="onEqualsClick" android:layout_columnSpan="2" /> <Button android:id="@+id/buttonClear" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="C" android:onClick="onClearClick" /> </GridLayout> </androidx.constraintlayout.widget.ConstraintLayout>

2.Java code for the main activity (MainActivity.java):
import android.os.Bundle; import android.view.View; import android.widget.Button; import android.widget.TextView; import androidx.appcompat.app.AppCompatActivity; public class MainActivity extends AppCompatActivity { private TextView resultTextView; private String currentNumber = ""; private double firstOperand = Double.NaN; private String pendingOperator = ""; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); resultTextView = findViewById(R.id.resultTextView); } public void onNumberClick(View view) { String digit = ((Button) view).getText().toString(); currentNumber += digit; updateResultTextView(); } public void onOperatorClick(View view) { String operator = ((Button) view).getText().toString(); if (!currentNumber.isEmpty()) { if (!Double.isNaN(firstOperand)) { calculateResult(); } else { firstOperand = Double.parseDouble(currentNumber); } pendingOperator = operator; currentNumber = ""; updateResultTextView(); } } public void onEqualsClick(View view) { if (!currentNumber.isEmpty() && !Double.isNaN(firstOperand)) { calculateResult(); pendingOperator = ""; } } public void onClearClick(View view) { currentNumber = ""; firstOperand = Double.NaN; pendingOperator = ""; updateResultTextView(); } private void calculateResult() { double secondOperand = Double.parseDouble(currentNumber); double result = Double.NaN; switch (pendingOperator) { case "+": result = firstOperand + secondOperand; break; // Add more cases for other operators } currentNumber = Double.toString(result); firstOperand = result; updateResultTextView(); } private void updateResultTextView() { resultTextView.setText(currentNumber); } }
